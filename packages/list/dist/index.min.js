(function(g,a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a():"function"===typeof define&&define.amd?define(a):g.List=a()})(this,function(){return function(g){var a=this,f=a.result=a.data;a.onchange=function(b){if("data"===b||"input"==b)h(a.input);else if("page"==b){if((b=parseInt(a.pagination))&&f.length>b){var c=b*a.page,d=b*a.page+b;f.length<d&&(d=f.length)}else c=0,d=f.length;for(b=[];c<d;c++)b.push(f[c]);a.result=b;b=[];if(0<a.pagination&&(d=Math.ceil(f.length/a.pagination),1<d)){if(6>a.page){var e=0;c=10>d?d:10}else 5>d-a.page?(e=d-9,c=d,0>e&&(e=0)):(e=parseInt(a.page)-4,c=parseInt(a.page)+5);for(0<e&&b.push({title:0,value:"\u00c2\u00ab"});e<c;e++)b.push({title:e,value:e+1,selected:a.page==e});c<d&&b.push({title:c+e,value:"\u00c2\u00bb"});a.pages=b}}};a.onload=function(){0<a.pagination&&(a.page=0)};var h=function(b){f=a.result=a.data.filter(function(c){a:{for(var d in c)if(0<=(""+c[d]).toLowerCase().search(b)){c=!0;break a}c=!1}return c});a.page=0};return lemonade.element('\n            <>\n                <div class="list-header" data="{{self.data}}">\n                    <input type=\'text\' @bind="self.input" search="{{self.search}}"/><ul page="{{self.page}}"><Pagination @loop="self.pages"/></ul></div><div class="list-content"><Item @loop="self.result"/></div></>',a,{Item:function(){return lemonade.element(g,this)},Pagination:function(){return lemonade.element('<li onclick="self.parent.page = this.title;" title="{{self.title}}" selected="{{self.selected}}">{{self.value}}</li>',this)}})}});
